(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(76),l=a.n(i),c=(a(59),a(7)),r=a(8),s=a(10),m=a(9),u=a(11),d=a(4),h=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleClick",value:function(){var e=document.getElementById("input_name_for_countdown").value;e.length>0?this.props.onNameSelected(e):this.props.onNameSelected("...")}},{key:"render",value:function(){return o.a.createElement("div",{className:"Left-Container"},o.a.createElement("h2",null,"What are you Counting Down To?"),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Countdown",id:"input_name_for_countdown"}),o.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick,type:"submit"},"Submit")))}}]),t}(n.Component),g=a(77),b=a.n(g),p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){return a.setState({value:e})},a.state={value:new Date},a.handleChange=a.handleChange.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(){var e=this.state.value.toDateString();e.length>0&&this.props.onTimeSelected(e)}},{key:"render",value:function(){var e=this.state.value;return o.a.createElement("div",{className:"Left-Container"},o.a.createElement("h2",null,"When Does ",this.props.name," Start?"),o.a.createElement("div",{className:"form-group"},o.a.createElement(b.a,{onChange:this.onChange,value:e}),o.a.createElement("button",{className:"btn btn-primary",onClick:this.handleChange,type:"submit"},"Submit")))}}]),t}(n.Component),v=a(57),f=a.n(v),y={apiKey:"AIzaSyDwPbrYyKjoj9llXkcKL2EVCiy0hoVbKyw",authDomain:"moodcalendar-6676d.firebaseapp.com",databaseURL:"https://moodcalendar-6676d.firebaseio.com",projectId:"moodcalendar-6676d",storageBucket:"moodcalendar-6676d.appspot.com",messagingSenderId:"7576934015"};f.a.initializeApp(y);var E,j=f.a.storage().ref(),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={imgName:"",imgLocation:null,ImageURI:null},a.handleFileUploadChange=a.handleFileUploadChange.bind(Object(d.a)(Object(d.a)(a))),a.handleFileUploadSubmit=a.handleFileUploadSubmit.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.querySelector(".file-select").addEventListener("change",this.handleFileUploadChange),document.querySelector(".file-submit").addEventListener("click",this.handleFileUploadSubmit)}},{key:"handleFileUploadChange",value:function(e){var t=document.getElementById("ImagePreview");E=e.target.files[0],t.className+="show",document.getElementById("imageName").value=E.name,this.setState({name:this.state.name,imgName:E.name,ImageURI:URL.createObjectURL(E)})}},{key:"handleFileUploadSubmit",value:function(e){var t=this;j.child("images/".concat(E.name)).put(E).on("state_changed",function(e){},function(e){console.log(e)},function(){console.log("success"),t.props.onImgNameSelected(t.state.imgName)})}},{key:"render",value:function(){return o.a.createElement("div",{className:"Left-Container"},o.a.createElement("h2",null,"Upload An Image For Your Countdown"),o.a.createElement("div",{className:"input-group",id:"img_upload_input"},o.a.createElement("label",{className:"input-group-btn"},o.a.createElement("span",{className:"btn btn-primary"},"Browse\u2026 ",o.a.createElement("input",{type:"file",className:"file-select",accept:"image/*"}))),o.a.createElement("input",{type:"text",className:"form-control",id:"imageName",readOnly:!0})),o.a.createElement("div",{id:"ImagePreview"},o.a.createElement("h3",null,"Image Preview"),o.a.createElement("img",{alt:"preview_image",src:this.state.ImageURI}),o.a.createElement("button",{className:"btn btn-primary file-submit"},"Submit and View Countdown")))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).returnToHomePage=a.returnToHomePage.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"returnToHomePage",value:function(){this.props.onReturnToHomePage()}},{key:"render",value:function(){return o.a.createElement("div",{className:"Left-Container"},o.a.createElement("h2",null,"Enjoy Your Countdown."),o.a.createElement("button",{className:"btn btn-primary",type:"submit",onClick:this.returnToHomePage},"Create Another Countdown"))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleName=function(e){a.setState({name:e,countdown_stage:"Time"})},a.handleTime=function(e){a.setState({endTime:e,countdown_stage:"UploadImage"})},a.handleImgName=function(e){a.setState({imgName:e,countdown_stage:"CountdownView"});var t=setInterval(function(){a.setTimeTo(a.state.endTime)},1e3);a.setState({intervalId:t})},a.handleReturnToHomePage=function(){a.setState({name:"...",countdown_stage:"Name",endTime:"...",intervalId:null,time:null,timeTo:{days:"",hours:"",minutes:"",seconds:""},imgName:""})},a.state={name:"...",countdown_stage:"Name",endTime:"...",intervalId:null,time:null,timeTo:{days:"",hours:"",minutes:"",seconds:""},imgName:""},a.setTimeTo=a.setTimeTo.bind(Object(d.a)(Object(d.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.state.intervalId){var t=setInterval(function(){e.setTimeTo(e.state.endTime)},1e3);this.setState({intervalId:t})}}},{key:"componentWillUnmount",value:function(){this.state.intervalId&&clearInterval(this.interval)}},{key:"setTimeTo",value:function(e){var t=new Date(e).getTime()-(new Date).getTime();this.setState({time:e,timeTo:{days:Math.floor(t/864e5),hours:Math.floor(t%864e5/36e5),minutes:Math.floor(t%36e5/6e4),seconds:Math.floor(t%6e4/1e3)}})}},{key:"render",value:function(){var e,t,a;return"Name"===this.state.countdown_stage?(e=o.a.createElement(h,{onNameSelected:this.handleName}),t={}):"Time"===this.state.countdown_stage?(e=o.a.createElement(p,{name:this.state.name,onTimeSelected:this.handleTime}),t={}):"UploadImage"===this.state.countdown_stage?(e=o.a.createElement(w,{onImgNameSelected:this.handleImgName}),t={}):"CountdownView"===this.state.countdown_stage&&(e=o.a.createElement(O,{onReturnToHomePage:this.handleReturnToHomePage}),t={backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/moodcalendar-6676d.appspot.com/o/images%2F"+this.state.imgName+"?alt=media&token=6010d1f9-cea8-4f42-a370-8415d56348bc)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},a="Days: "+this.state.timeTo.days+" Hours: "+this.state.timeTo.hours+" Minutes: "+this.state.timeTo.minutes+" Seconds: "+this.state.timeTo.seconds),o.a.createElement("div",{className:"Container"},o.a.createElement("div",{className:"LeftInnerContainer"},e),o.a.createElement("div",{className:"RightInnerContainer"},o.a.createElement("div",null,o.a.createElement("h2",null,"Counting Down To ",this.state.name)),o.a.createElement("div",null,o.a.createElement("h2",null,this.state.name," Starts on ",this.state.endTime)),o.a.createElement("div",null,a,o.a.createElement("div",{style:t}))))}}]),t}(n.Component),N=(a(170),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(C,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},59:function(e,t,a){},78:function(e,t,a){e.exports=a(173)}},[[78,2,1]]]);
//# sourceMappingURL=main.47249288.chunk.js.map